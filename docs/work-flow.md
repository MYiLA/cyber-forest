# Порядок работы с проектом
- [GitHub](#1-github)
- [Кодфриз](#2-кодфриз)
- [Конфликты в package-lock](#3-конфликты-в-package-lock)
- [Документация](#4-документация)


## 1. GitHub
- Название ветки копируем из linear: feature/СYB-{Номер задачи}-{Название задачи}
```
  Например: feature/cyb-19-документ-с-описанием
```

- Бранчуемся от ветки dev, одновременно создавая новую ветку
```
  bit checkout -b feature/cyb-19-документ-с-описанием

  Делаем туда коммиты в процессе работы, как удобно
```

- Когда все готово создаем PR на ветку dev. 
  Название PR оформляем так:
  ```
  CYB-{номер задачи} Название задачи

  Например: CYB-19 Документ с описанием
  ```

- Проходим кросс-ревью команды, получаем апрувы и резолвы всех замечаний

- Если нужно, отмечаем лейблом мр Ready for review для отправки на ревью Практикума

- Когда все необходимые апрувы получены, сквошим все коммиты в один с помощью интеррактивного ребейза 
```
  git rebase -i HEAD~{количество последних коммитов, которые вы хотите засквошить}

  Далее вы переходите в консоль Vim

  Для входа в режим редактирования надо нажать клавишу I

  Для выхода из режима редактирования - esc

  Для выхода из Vim нужно ввести в консоль :q и нажать 
  enter

  Для выхода с сохранением :wq и нажать enter
```

- Проверяем актуальность ветки dev, делая ребейз на её последние изменения. Решаем конфликты при необходимости
```
  git rebase origin/dev
```

- Переименовываем последний коммит по такой схеме
```
  [CYB-{номер задачи}] Название задачи
  командой

  git commit --amend -m 'Новое название коммита'
```

- Пушим все изменения после ребейзов, сквошей и переименовки с помощью флага **forsed**
```
  git push -f origin {ваша ветка}
```

- Заливаем ваш мр в ветку dev

## 2. Кодфриз
На неделе доработок мы делаем кодфриз, чтобы заморозить текущее состояние проекта для демо и не наплодить дополнительных багов. В деве разработка продолжается в обычном режиме.

Для этого создаём мр с dev на main, в нём оформляем ченжлог. Ченжлог должен отображать список изменений и номер версии проекта. Название мр оформляем так: 
Release {Версия проекта}. Пример:
```
Release 1.0.0
```
Далее мержим релизный мр в main. Проводим всей командой функциональное ручное тестирование ветки main. При нахождении багов - заводим их в линеар с эпиком HOTFIX. У хотфиксов ставим наивысший приоритет. Ветки с хотфиксами бранчуем от main, называем ветки таким образом: hotfix/{код проекта}-{номер задачи}. Пример:
```
hotfix/CYB-123
```

В итоге мы должны получить версию приложения в ветке main с минимальным количеством багов для показа демо.

**ВАЖНО** чтобы был один хотфикс = один коммит, так как после подачи демо мы все хотфиксы вручную черепикнем в дев.


## 3. Конфликты в package-lock
Для разрешения конфликтов `package-lock.json` файла достаточно в процессе merge\`а в терминале выполнить команду `npm install`, которая объединит текущие дерево зависимостей/подзависимостей с тем которое вливается. [Официальная дока npm](https://docs.npmjs.com/cli/v6/configuring-npm/package-locks#resolving-lockfile-conflicts)

## 4. Документация
1. Создаем файл для описания чего-либо в папке `docs`
2. Добавляем ссылку на созданный файл в `docs/README.md`

   ```markdown
   - [Название раздела](ИмяФайла.md) - Краткое описание
   ```

3. Пишем документацию. (Если необходимо добавить изображения создаем папку одноименную файлу)
